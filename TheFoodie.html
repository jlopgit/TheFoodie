<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset = "UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>The Foodie</title>

    <!--Bootstrap 4 stylesheet-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <!--Font Awesome Brand Icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--StyleSheet-->
    <link rel="stylesheet" type="text/css" href="styleSheet.css" media="screen"/>
  </head>

  <body>

    <div class = "container-fluid" id = "header">
       <nav class = "navbar navbar-light fixed-top">

          <button class = "navbar-toggler" type = "button" data-toggle = "collapse" aria-expanded = "false"
          data-target = "#links" aria-controls = "links" aria-label="Toggle navigation">
            <div class = "wholeBurger">
              <div class = "burger" id = "top"></div>
              <div class = "burger" id = "middle"></div>
              <div class = "burger" id = "bottom"></div>
            </div>
          </button>

          <div class = "collapse navbar-collapse" id = "links">
           <h2 class = "title container">Preface</h2>

           <ul class = "navbar-nav">
            <li class = "nav-item container">
              <a class = "nav-link" href= "index.html">Home</a>
            </li>
            <li class = "nav-item container">
              <a class = "nav-link dropdown-toggle" href= "#" data-toggle = "collapse" aria-expanded = "false"
              data-target = "#projectLinks" aria-controls = "projectLinks">Projects</a>
              <ul class = "collapse projects-toggle" id = "projectLinks">
                <li class = "nav-item">
                  <a class = "nav-link" href= "TheFoodie.html">The Foodie</a>
                </li>
                <li class = "nav-item">
                  <a class = "nav-link" href= "#">Authentication</a>
                </li>
                <li class = "nav-item">
                  <a class = "nav-link" href= "#">TBA</a>
                </li>
              </ul>
            </li>
            <li class = "nav-item container">
              <a class = "nav-link" href= "#">Get in Touch</a>
            </li>
           </ul>

           <div class = "icons container d-flex flex-row">
            <a class = "p-2 ml-auto" href = "https://github.com/panggoy123">
              <i class = "fa fa-git-square fa-2x"></i>
            </a>
            <a class = "p-2 mr-auto" href = "https://linkedin.com/in/jlopezworkfil">
              <i class = "fa fa-linkedin-square fa-2x"></i>
            </a>
           </div>
        </div>

       </nav>
    </div>

    <div class = "d-flex justify-content-center" id = "foodieDescription">
      <div class = "jumbotron text-center">
        <h2>The Foodie</h2>
        <p>Tell me what you ate! I'd like to be able to try it!</p>
        <hr>
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newFoodEntry">
          New Entry
        </button>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="newFoodEntry" tabindex="-1" role="dialog" aria-labelledby="modalEntry" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">

          <div class="modal-header">
            <h5 class="modal-title" id="modalEntry">Tell Me What You Ate!</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="clearForms();">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body">

            <form id = "selection">
              <div class = "form-check form-check-inline">
                <input class = "form-check-input" type = "radio" name = "food" id = "cook"
                value = "cook" onclick = "showAteIn();" checked>
                <label class = "form-check-label" for = "cook">Did You Cook?</label>
              </div>
              <div class = "form-check form-check-inline">
                <input class = "form-check-input" type = "radio" name = "food" id = "out"
                value = "out" onclick="showAteOut();">
                <label class = "form-check-label" for = "out">Did You Eat Out?</label>
              </div>
            </form>
            <hr>
            <form id = "ateIn" name = "in">
              <div class = "form-group" id = "images">
                <label for = "photosIn">Upload Photo(s)</label>
                <input id = "photosIn" type="file" name="ateInImg" accept = "image/*" multiple>
              </div>
              <div class = "form-group">
                <label for = "dishIn">What did you eat?</label>
                <input class = "form-control" type = "text" id = "dishIn" name = "ateInDish" placeholder = "Name of dish">
              </div>
              <div class = "form-group">
                <label for = "time">How long did it take to cook?</label>
                <input class = "form-control" type = "text" id = "time" name = "ateInTime" placeholder = "Cook Time">
              </div>
              <div class = "form-group" id = "dishIngredients">
                <label for = "ingredients">What what did you put in it?
                </label>
                <input class = "form-control" type = "text" id = "ingredients" name = "ateInIngredients" placeholder = "Ingredients">
              </div>
              <div class = "form-group">
                <label for = "cost">How much were the ingredients?</label>
                <input class = "form-control" type = text id = "cost" name = "ateInCost" placeholder = "Total Cost">
              </div>
              <div class = "form-group">
                <label for = "instructions">How how did you cook it?</label>
                <textarea class = "form-control" type = "text" id = "instructions" name = "ateInInstructions" rows = "5"></textarea>
              </div>
              <!--
              <button type = "submit" class = "btn btn-primary" data-dismiss = "modal">Submit</button>
              -->
            </form>

            <form id = "ateOut" name = "out">
              <div class = "form-group" id = "images">
                <label for = "photosOut">Upload Photo(s)</label>
                <input id = "photosOut" type="file" name="ateOutImg" accept = "image/*" multiple>
              </div>
              <div class = "form-group">
                <label for = "location">Where did you eat?</label>
                <input class = "form-control" type = text id = "location" name = "ateOutLocation" placeholder = "Enter location or find location">
              </div>
              <div class = "form-group">
                <label for = "price">What's the price range for the meal?</label>
                <input class = "form-control" type = text id = "price" name = "ateOutPrice" placeholder = "Price">
              </div>
              <div class = "form-group" id = "dishes">
                <label for = "dishOut">What did you eat?</label>
                <input class = "form-control" type = text id = "dishOut" name = "ateOutDish" placeholder = "Name of Dish">
              </div>
              <div class = "form-group">
                <label for = "description">How was it?</label>
                <textarea class = "form-control" type = text id = "description" name = "ateOutDescription" rows = "5"></textarea>
              </div>
              <!--
              <button type = "submit" class = "btn btn-primary">Submit</button>
              -->
            </form>

          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="clearForms();">Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick = "getFood(); clearForms();">Save changes</button>
          </div>

        </div>
      </div>
    </div>

    <div class = "d-flex flex-column justify-content-center" id = "entries">

    </div>

    <script>

      function showAteIn(){

        document.getElementById('ateIn').style.display = 'block';
        document.getElementById('ateOut').style.display = 'none';
      }

      function showAteOut(){

        document.getElementById('ateOut').style.display = 'block';
        document.getElementById('ateIn').style.display = 'none';
      }

      function clearForms(){

          document.getElementById('ateIn').reset();
          document.getElementById('ateOut').reset();
      }

      function getFood(){

        var xhttp = new XMLHttpRequest();

        xhttp.open("POST", "/create_food", true);
        xhttp.send();
      }

      /*
      var dish;
      var time;
      var ingredients;
      var description;
      var price;
      var location;
      var photo;

      var formInput = [];
      var formNodes = [];

      function newAteInEntry(){

        //photo = document.getElementById('photos').value;
        dish = document.getElementById('dishIn').value;
        time = document.getElementById('time').value;
        ingredients = document.getElementById('ingredients').value;
        price = document.getElementById('cost').value;
        description = document.getElementById('instructions').value;

        var dishContent = document.createTextNode(dish);
        var timeContent = document.createTextNode(time)
        var ingredientsContent = document.createTextNode(ingredients);
        var priceContent = document.createTextNode(price);
        var descriptionContent = document.createTextNode(description);

        var dishNode = document.createElement("p");
        var timeNode = document.createElement("p");
        var ingredientsNode = document.createElement("p");
        var priceNode = document.createElement("p");
        var descriptionNode = document.createElement("p");

        dishNode.appendChild(dishContent);
        timeNode.appendChild(timeContent);
        ingredientsNode.appendChild(ingredientsContent);
        priceNode.appendChild(priceContent);
        descriptionNode.appendChild(descriptionContent);

        var node = document.createElement("div");
        node.className = "jumbotron";
        node.appendChild(dishNode);
        node.appendChild(timeNode);
        node.appendChild(ingredientsNode);
        node.appendChild(priceNode);
        node.appendChild(descriptionNode);
        document.getElementById("entries").prepend(node);

        dish, time, ingredients, price, description = "";
      }
      */


      /*
      getFood(){

        var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
              var javaObj = JSON.parse(this.responseText);
              document.getElementById("entries").innerHTML = javaObj.id;
            }
          };
          xhttp.open("GET", "food.json", true);
          xhttp.send();
      }
      */

    </script>

  </body>

</html>
